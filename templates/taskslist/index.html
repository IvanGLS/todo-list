{% extends "base.html" %}

{% block content %}
  {% load static %}
  <h1>
    <p>TODO List
    <a href="{% url "tasklist:task-create" %}" class="btn btn-primary link-to-page float-right">
      Add Task
    </a>
  </p>
  </h1>
  {% if task_list %}
      {% for task in task_list %}
        <tr>
          <td>
            <h1>{{ task.content }}
            {% if not task.completed %}
              <span style="color: red">Not done</span>
              <a href="{% url "tasklist:task-complete" pk=task.id%}" class="btn btn-success link-to-page float-right">
                Complete
              </a>
            {% else %}
              <span style="color: green">Done</span>
              <a href="{% url "tasklist:task-complete" pk=task.id%}" class="btn btn-secondary link-to-page float-right">
                Undo
              </a>
            {% endif %}
            </h1>
          </td>
          <td>
            Created: {{ task.created_date }}
          </td>
          {% if not task.completed %}
          <td>
            Deadline: {{ task.deadline }}
          </td>
          {% endif %}
          <td>
            <p>
            Tags:
            {% for tags in task.tags.all %}
             {{ tags.tag_name }}
             {% endfor %}
              <a href="{% url 'tasklist:task-update' pk=task.id %}">
              Update
              </a>
              <a style="color: red"
                href="{% url 'tasklist:task-delete' pk=task.id %}">
                Delete
              </a>
            </p>
          </td>
{#        <a href="{% url 'taxi:toggle-car-assign' pk=car.id %}" class="btn btn-danger link-to-page">#}
{#        Delete me from this car#}
{#        </a>#}
        </tr>
      {% endfor %}
  {% else %}
      <p>There are no any tasks</p>
  {% endif %}
{% endblock %}
